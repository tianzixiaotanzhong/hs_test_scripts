# é›·èµ›L7ä¼ºæœé©±åŠ¨å™¨Pythonæ§åˆ¶åº“ - é¡¹ç›®è¯´æ˜

## ğŸ“ é¡¹ç›®ç»“æ„

```
leisai-l7-driver/
â”‚
â”œâ”€â”€ leisai/                    # ã€ä¸»åŒ…ã€‘PythonåŒ…æºä»£ç 
â”‚   â”œâ”€â”€ __init__.py           # åŒ…åˆå§‹åŒ–ï¼Œå¯¼å‡ºå…¬å…±API
â”‚   â”œâ”€â”€ py.typed              # PEP561ç±»å‹æ ‡è®°æ–‡ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                 # ã€æ ¸å¿ƒæ¨¡å—ã€‘ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ __init__.py       # æ¨¡å—åˆå§‹åŒ–
â”‚   â”‚   â”œâ”€â”€ driver.py         # L7Driverä¸»ç±»ï¼ˆçº¦500è¡Œï¼‰
â”‚   â”‚   â”œâ”€â”€ constants.py      # å¸¸é‡å’Œæšä¸¾å®šä¹‰ï¼ˆçº¦300è¡Œï¼‰
â”‚   â”‚   â”œâ”€â”€ exceptions.py     # å¼‚å¸¸ç±»å®šä¹‰ï¼ˆçº¦200è¡Œï¼‰
â”‚   â”‚   â”œâ”€â”€ parameters.py     # å‚æ•°ç®¡ç†å™¨ï¼ˆçº¦250è¡Œï¼‰
â”‚   â”‚   â”œâ”€â”€ motion.py         # è¿åŠ¨æ§åˆ¶å™¨ï¼ˆçº¦400è¡Œï¼‰
â”‚   â”‚   â””â”€â”€ monitor.py        # çŠ¶æ€ç›‘æ§å™¨ï¼ˆçº¦300è¡Œï¼‰
â”‚   â”‚
â”‚   â””â”€â”€ protocols/            # ã€åè®®æ¨¡å—ã€‘é€šä¿¡å®ç°
â”‚       â”œâ”€â”€ __init__.py       # æ¨¡å—åˆå§‹åŒ–
â”‚       â”œâ”€â”€ modbus.py         # Modbus RTUåè®®ï¼ˆçº¦500è¡Œï¼‰
â”‚       â””â”€â”€ serial.py         # ä¸²å£é€šä¿¡å±‚ï¼ˆçº¦300è¡Œï¼‰
â”‚
â”œâ”€â”€ tests/                    # ã€æµ‹è¯•ã€‘å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ test_modbus.py        # Modbusåè®®æµ‹è¯•ç¤ºä¾‹
â”‚
â”œâ”€â”€ examples/                 # ã€ç¤ºä¾‹ã€‘ä½¿ç”¨ç¤ºä¾‹
â”‚   â””â”€â”€ basic_usage.py        # åŸºç¡€ç”¨æ³•ç¤ºä¾‹ï¼ˆçº¦400è¡Œï¼‰
â”‚
â”œâ”€â”€ docs/                     # ã€æ–‡æ¡£ã€‘æ–‡æ¡£ç›®å½•ï¼ˆé¢„ç•™ï¼‰
â”‚
â”œâ”€â”€ setup.py                  # å®‰è£…é…ç½®è„šæœ¬
â”œâ”€â”€ pyproject.toml           # ç°ä»£Pythoné¡¹ç›®é…ç½®
â”œâ”€â”€ requirements.txt         # ä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ LICENSE                  # MITå¼€æºåè®®
â”œâ”€â”€ .gitignore              # Gitå¿½ç•¥æ–‡ä»¶é…ç½®
â”‚
â”œâ”€â”€ README.md               # ã€è‹±æ–‡æ–‡æ¡£ã€‘å®Œæ•´çš„è‹±æ–‡è¯´æ˜
â”œâ”€â”€ README_CN.md            # ã€ä¸­æ–‡æ–‡æ¡£ã€‘è¯¦ç»†çš„ä¸­æ–‡ä½¿ç”¨æ•™ç¨‹
â”œâ”€â”€ å¿«é€Ÿä½¿ç”¨æŒ‡å—.md           # ã€å¿«é€ŸæŒ‡å—ã€‘5åˆ†é’Ÿä¸Šæ‰‹æ•™ç¨‹
â”œâ”€â”€ é¡¹ç›®è¯´æ˜.md              # ã€æœ¬æ–‡ä»¶ã€‘é¡¹ç›®ç»“æ„è¯´æ˜
â”‚
â””â”€â”€ leisai_doc.txt          # ã€å‚è€ƒæ–‡æ¡£ã€‘L7åŸå§‹æŠ€æœ¯æ‰‹å†Œ

```

## ğŸ“Š ä»£ç ç»Ÿè®¡

- **Pythonæºä»£ç **ï¼šçº¦3000è¡Œ
- **æ–‡æ¡£**ï¼šçº¦2000è¡Œ
- **æµ‹è¯•ä»£ç **ï¼šçº¦200è¡Œ
- **æ€»è®¡**ï¼šçº¦5200è¡Œ

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

### 1. ä¸“ä¸šçš„æ¶æ„è®¾è®¡
- âœ… æ¨¡å—åŒ–è®¾è®¡ï¼ŒèŒè´£å•ä¸€
- âœ… ä¾èµ–æ³¨å…¥æ¨¡å¼
- âœ… å®Œæ•´ç±»å‹æ³¨è§£
- âœ… å±‚æ¬¡åŒ–å¼‚å¸¸ä½“ç³»
- âœ… çº¿ç¨‹å®‰å…¨å®ç°

### 2. å®Œæ•´çš„åŠŸèƒ½è¦†ç›–
- âœ… Modbus RTUåè®®ï¼ˆCRC16ã€é‡è¯•æœºåˆ¶ï¼‰
- âœ… ä¸‰ç§æ§åˆ¶æ¨¡å¼ï¼ˆä½ç½®/é€Ÿåº¦/è½¬çŸ©ï¼‰
- âœ… PRè·¯å¾„æ§åˆ¶ï¼ˆ16æ¡è·¯å¾„ï¼‰
- âœ… å®æ—¶çŠ¶æ€ç›‘æ§
- âœ… å‚æ•°ç®¡ç†ï¼ˆè¯»å†™/å¯¼å…¥å¯¼å‡º/EEPROMï¼‰
- âœ… JOGè¿åŠ¨
- âœ… è‡ªåŠ¨å›é›¶
- âœ… æŠ¥è­¦å¤„ç†

### 3. æ˜“ç”¨æ€§è®¾è®¡
- âœ… ç®€æ´çš„API
- âœ… ä¸Šä¸‹æ–‡ç®¡ç†å™¨
- âœ… è‡ªåŠ¨èµ„æºç®¡ç†
- âœ… è¯¦ç»†çš„é”™è¯¯æç¤º
- âœ… ä¸°å¯Œçš„ä½¿ç”¨ç¤ºä¾‹

## ğŸ“š æ–‡æ¡£ä½“ç³»

| æ–‡æ¡£ | ç”¨é€” | é€‚åˆäººç¾¤ |
|-----|------|---------|
| **å¿«é€Ÿä½¿ç”¨æŒ‡å—.md** | 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹ | åˆæ¬¡ä½¿ç”¨è€… |
| **README_CN.md** | è¯¦ç»†ä¸­æ–‡æ•™ç¨‹ | ä¸­æ–‡ç”¨æˆ· |
| **README.md** | è‹±æ–‡APIæ–‡æ¡£ | å›½é™…ç”¨æˆ· |
| **examples/basic_usage.py** | ä»£ç ç¤ºä¾‹ | å¼€å‘è€… |
| **leisai_doc.txt** | åŸå§‹æŠ€æœ¯æ‰‹å†Œ | æ·±åº¦ç”¨æˆ· |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…

```bash
# å®‰è£…ä¾èµ–
pip install pyserial

# æˆ–å®‰è£…æ•´ä¸ªåŒ…
pip install -e .
```

### 2. æœ€ç®€å•çš„ä¾‹å­

```python
from leisai import L7Driver

# ä½¿ç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨
with L7Driver('COM3') as driver:
    driver.servo_on()
    print(f"ä½ç½®ï¼š{driver.get_position()}")
    driver.servo_off()
```

### 3. è¿è¡Œç¤ºä¾‹

```bash
# è¿è¡ŒåŸºç¡€ç¤ºä¾‹
python examples/basic_usage.py
```

## ğŸ”§ å¼€å‘æŒ‡å—

### å®‰è£…å¼€å‘ç¯å¢ƒ

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/leisai/python-l7-driver.git
cd python-l7-driver

# å®‰è£…å¼€å‘ä¾èµ–
pip install -e .[dev]

# è¿è¡Œæµ‹è¯•
pytest

# ä»£ç æ ¼å¼åŒ–
black leisai/

# ç±»å‹æ£€æŸ¥
mypy leisai/
```

### é¡¹ç›®è§„èŒƒ

1. **ä»£ç é£æ ¼**ï¼šéµå¾ªPEP8ï¼Œä½¿ç”¨blackæ ¼å¼åŒ–
2. **ç±»å‹æ³¨è§£**ï¼šæ‰€æœ‰å…¬å…±APIå¿…é¡»æœ‰ç±»å‹æ³¨è§£
3. **æ–‡æ¡£å­—ç¬¦ä¸²**ï¼šä½¿ç”¨NumPyé£æ ¼çš„docstring
4. **æµ‹è¯•è¦†ç›–**ï¼šæ–°åŠŸèƒ½å¿…é¡»æœ‰å¯¹åº”æµ‹è¯•
5. **ç‰ˆæœ¬ç®¡ç†**ï¼šéµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ

## ğŸ¨ è®¾è®¡ç†å¿µ

### 1. æ¨¡å—åŒ–æ¶æ„

```
åº”ç”¨å±‚     ->  L7Driver (ä¸»æ¥å£)
   â†“
ä¸šåŠ¡å±‚     ->  ParameterManager, MotionController, StatusMonitor
   â†“ 
åè®®å±‚     ->  ModbusClient, ModbusRTU
   â†“
ç‰©ç†å±‚     ->  SerialConnection
```

### 2. é”™è¯¯å¤„ç†

```
L7Exception (åŸºç±»)
â”œâ”€â”€ CommunicationError (é€šä¿¡é”™è¯¯)
â”‚   â”œâ”€â”€ ConnectionError
â”‚   â”œâ”€â”€ TimeoutError
â”‚   â””â”€â”€ ModbusError
â”œâ”€â”€ ParameterError (å‚æ•°é”™è¯¯)
â”‚   â”œâ”€â”€ InvalidParameterError
â”‚   â””â”€â”€ ParameterOutOfRangeError
â””â”€â”€ ControlError (æ§åˆ¶é”™è¯¯)
    â”œâ”€â”€ ServoNotReadyError
    â””â”€â”€ MotionError
```

### 3. å¸¸é‡ç®¡ç†

æ‰€æœ‰å¸¸é‡é›†ä¸­åœ¨`constants.py`ä¸­å®šä¹‰ï¼ŒåŒ…æ‹¬ï¼š
- æ§åˆ¶æ¨¡å¼æšä¸¾
- çŠ¶æ€æšä¸¾
- æŠ¥è­¦ä»£ç 
- å‚æ•°åœ°å€æ˜ å°„
- ç‰©ç†é™åˆ¶å€¼

## ğŸ“ ç‰ˆæœ¬å†å²

- **v1.0.0** (2025-01-04)
  - é¦–æ¬¡å‘å¸ƒ
  - å®Œæ•´çš„Modbus RTUå®ç°
  - æ”¯æŒL7å…¨ç³»åˆ—é©±åŠ¨å™¨

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤ä»£ç 
4. ç¼–å†™æµ‹è¯•
5. æäº¤PR

## ğŸ“„ è®¸å¯è¯

MIT License - å…è®¸å•†ä¸šä½¿ç”¨

## ğŸ“ è”ç³»æ–¹å¼

- æŠ€æœ¯æ”¯æŒï¼šsupport@leisai.com
- å®˜æ–¹ç½‘ç«™ï¼šwww.leisai.com
- GitHubï¼šhttps://github.com/leisai/python-l7-driver

---

**ä½œè€…**ï¼šLeisai Python Driver Team  
**ç‰ˆæœ¬**ï¼š1.0.0  
**æ›´æ–°**ï¼š2025-01-04